[gd_scene load_steps=20 format=3 uid="uid://bit7gomj36yqg"]

[ext_resource type="Texture2D" uid="uid://rm4bvkapttep" path="res://characters/fiora/fiora.png" id="1_03u0t"]
[ext_resource type="Script" path="res://characters/fiora/fiora.gd" id="1_b1ljy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5nldl"]
size = Vector2(40, 40)

[sub_resource type="Animation" id="Animation_dndnh"]
resource_name = "move"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"move"
}]
}

[sub_resource type="Animation" id="Animation_mk10y"]
resource_name = "reload"
length = 3.0

[sub_resource type="Animation" id="Animation_68rfl"]
resource_name = "shoot0"
length = 2.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"shoot0"
}]
}

[sub_resource type="Animation" id="Animation_vwhrn"]
resource_name = "shoot1"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"shoot1"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dovbs"]
_data = {
"move": SubResource("Animation_dndnh"),
"reload": SubResource("Animation_mk10y"),
"shoot0": SubResource("Animation_68rfl"),
"shoot1": SubResource("Animation_vwhrn")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sg7r5"]
animation = &"move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oxhwe"]
animation = &"reload"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_grck3"]
animation = &"shoot0"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uwoi6"]
animation = &"shoot1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4qafh"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_od80k"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vdgv1"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jsokq"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_81xck"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_cge5w"]
states/move/node = SubResource("AnimationNodeAnimation_sg7r5")
states/move/position = Vector2(350, 180)
states/reload/node = SubResource("AnimationNodeAnimation_oxhwe")
states/reload/position = Vector2(350, 100)
states/shoot0/node = SubResource("AnimationNodeAnimation_grck3")
states/shoot0/position = Vector2(498, 100)
states/shoot1/node = SubResource("AnimationNodeAnimation_uwoi6")
states/shoot1/position = Vector2(498, 180)
transitions = ["Start", "reload", SubResource("AnimationNodeStateMachineTransition_4qafh"), "reload", "shoot0", SubResource("AnimationNodeStateMachineTransition_od80k"), "move", "shoot1", SubResource("AnimationNodeStateMachineTransition_vdgv1"), "shoot1", "reload", SubResource("AnimationNodeStateMachineTransition_jsokq"), "shoot0", "move", SubResource("AnimationNodeStateMachineTransition_81xck")]
graph_offset = Vector2(-148, -10)

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_ej6nr"]

[node name="Fiora" type="CharacterBody2D"]
collision_layer = 4
collision_mask = 7
script = ExtResource("1_b1ljy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_5nldl")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_03u0t")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_dovbs")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_cge5w")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_ej6nr")
